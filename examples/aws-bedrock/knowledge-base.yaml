# yaml-language-server: $schema=https://promptfoo.dev/config-schema.json
prompts:
  - file://prompts.txt

providers:
  - id: bedrock:knowledge-base:kb-12345 # Replace with your Knowledge Base ID
    config:
      region: us-east-1
      vectorSearchConfiguration:
        numberOfResults: 5

tests:
  - vars:
      input:
        - 'What are the best practices for AWS security?'
        - 'How do I set up an S3 bucket?'
        - 'Explain AWS IAM roles and policies.'
    assert:
      - type: contains-any
        value:
          - encryption
          - authentication
          - least privilege
      - type: contains-any
        value:
          - bucket creation
          - permissions
          - access control
      - type: contains-any
        value:
          - role-based access
          - policy document
          - permissions management
